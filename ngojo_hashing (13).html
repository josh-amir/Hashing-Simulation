<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hashing Simulation</title>
  <!-- Harvard font: Merriweather (serif) and fallback to Georgia, serif -->
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --crimson: #A51C30;
      --crimson-dark: #820000;
      --gold: #FFC72C;
      --gold-dark: #FFD700;
      --bg: #f5f5f5;
      --info-bg: #fff8e1;
      --table-bg: #fff;
      --text-main: #263238;
      --highlight: #FFC72C;
      --highlight-text: #A51C30;
      --found: #22c55e;
      --deleted: #ef4444;
      --step-glow: 0 0 8px 2px #A51C30AA;
    }
    body {
      font-family: 'Merriweather', Georgia, serif;
      background: var(--bg);
      margin: 0;
      padding: 0;
      color: var(--text-main);
      transition: background 0.3s, color 0.3s;
    }
    .dark-mode {
      --crimson: #FFC72C;
      --crimson-dark: #FFD700;
      --gold: #A51C30;
      --gold-dark: #820000;
      --bg: #232323;
      --info-bg: #2d2d2d;
      --table-bg: #232323;
      --text-main: #f5f5f5;
      --highlight: #A51C30;
      --highlight-text: #FFC72C;
      --found: #22c55e;
      --deleted: #ef4444;
      --step-glow: 0 0 8px 2px #FFC72CAA;
    }
    .container {
      max-width: 900px;
      margin: 30px auto;
      background: var(--table-bg);
      border-radius: 12px;
      box-shadow: 0 4px 24px rgba(0,0,0,0.08);
      padding: 32px 40px 24px 40px;
      transition: background 0.3s;
    }
    h2 {
      text-align: center;
      color: var(--crimson);
      margin-bottom: 8px;
      font-family: 'Merriweather', Georgia, serif;
      font-weight: 700;
    }
    .author {
      text-align: center;
      font-size: 1.1em;
      color: var(--crimson-dark);
      margin-bottom: 24px;
      font-weight: bold;
      font-family: 'Merriweather', Georgia, serif;
    }
    .info {
      background: var(--info-bg);
      border-left: 5px solid var(--crimson);
      padding: 8px 10px;
      margin-bottom: 18px;
      border-radius: 6px;
      color: var(--text-main);
      font-size: 0.93em;
      transition: background 0.3s, color 0.3s;
    }
    .help-toggle {
      float: right;
      background: none;
      border: none;
      color: var(--crimson);
      font-size: 1.2em;
      cursor: pointer;
      margin-top: -4px;
      margin-right: 2px;
      transition: color 0.2s;
    }
    .help-toggle:focus {
      outline: 2px solid var(--gold);
    }
    .help-content {
      display: none;
      background: var(--info-bg);
      border: 1px solid var(--crimson);
      border-radius: 6px;
      padding: 10px 14px;
      margin-bottom: 14px;
      font-size: 0.97em;
      color: var(--text-main);
    }
    .help-content.active {
      display: block;
      animation: fadein 0.4s;
    }
    .dark-mode .help-content,
    .dark-mode .info {
      color: #f5f5f5;
    }
    .input-row {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 12px;
      margin-bottom: 18px;
    }
    input[type="number"] {
      padding: 7px 10px;
      font-size: 1em;
      border: 1px solid #b0bec5;
      border-radius: 4px;
      width: 120px;
      outline: none;
      transition: border 0.2s;
      font-family: 'Merriweather', Georgia, serif;
      background: var(--bg);
      color: var(--crimson);
    }
    input[type="number"]:focus {
      border: 1.5px solid var(--crimson);
    }
    select {
      padding: 7px 10px;
      font-size: 1em;
      border: 1px solid #b0bec5;
      border-radius: 4px;
      outline: none;
      background: #fff;
      color: var(--text-main);
      transition: border 0.2s;
      font-family: 'Merriweather', Georgia, serif;
    }
    button, .step-btn {
      padding: 7px 18px;
      font-size: 1em;
      border: none;
      border-radius: 4px;
      background: var(--crimson);
      color: #fff;
      cursor: pointer;
      transition: background 0.2s, color 0.2s;
      font-family: 'Merriweather', Georgia, serif;
    }
    button[aria-label], .step-btn[aria-label] {
      position: relative;
    }
    button[aria-label]:hover::after, .step-btn[aria-label]:hover::after {
      content: attr(aria-label);
      position: absolute;
      left: 50%;
      top: -2em;
      transform: translateX(-50%);
      background: var(--crimson);
      color: #fff;
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 0.9em;
      white-space: nowrap;
      z-index: 10;
      pointer-events: none;
    }
    button:hover, .step-btn:hover:not(:disabled) {
      background: var(--crimson-dark);
    }
    .reset-btn {
      background: var(--gold);
      color: var(--crimson);
      margin-left: 10px;
      transition: background 0.2s, color 0.2s;
    }
    .reset-btn:hover {
      background: var(--gold-dark);
    }
    .dark-mode .reset-btn {
      background: var(--crimson);
      color: var(--gold);
    }
    #darkModeToggle {
      float: right;
      margin-top: 2px;
      margin-right: 2px;
      background: var(--crimson);
      color: #fff;
      border: none;
      border-radius: 4px;
      padding: 4px 12px;
      font-size: 1em;
      cursor: pointer;
      transition: background 0.2s, color 0.2s;
    }
    #darkModeToggle:hover {
      background: var(--crimson-dark);
    }
    #message {
      text-align: center;
      margin-bottom: 18px;
      font-size: 1.1em;
      min-height: 24px;
      color: var(--crimson);
      font-weight: bold;
      font-family: 'Merriweather', Georgia, serif;
    }
    .formula {
      text-align: center;
      margin-bottom: 44px;
      font-size: 1.08em;
      color: #37474f;
      font-family: 'Merriweather', Georgia, serif;
    }
    .formula span {
      /*background: var(--info-bg);*/
      border-radius: 1px;
      padding: 2px 2px;
      font-family: 'Merriweather', Georgia, serif;
      color: var(--crimson);
      font-weight: bold;
    }
    table {
      border-collapse: collapse;
      margin: 0 auto 0 auto;
      background: var(--table-bg);
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(33,150,243,0.07);
      font-family: 'Merriweather', Georgia, serif;
      transition: background 0.3s;
    }
    th, td {
      border: 1px solid #b0bec5;
      width: 70px;
      height: 60px;
      text-align: center;
      font-size: 1.1em;
      transition: background 0.5s, transform 0.3s, box-shadow 0.3s;
      position: relative;
    }
    th {
      background: var(--crimson);
      color: #fff;
      font-weight: 600;
    }
    td {
      transition: background 0.3s, box-shadow 0.3s;
    }
    td:hover {
      background: #ffe5e5;
      cursor: pointer;
      box-shadow: 0 0 0 2px var(--crimson, #A51C30);
      z-index: 1;
    }
    .highlight {
      background: var(--highlight) !important;
      font-weight: bold;
      color: var(--highlight-text);
      transform: scale(1.1);
      z-index: 2;
      box-shadow: var(--step-glow);
      animation: popin 0.6s;
    }
    .current-step {
      outline: 3px solid var(--crimson-dark);
      box-shadow: 0 0 12px 2px var(--crimson-dark);
      z-index: 3;
    }
    @keyframes popin {
      0% { transform: scale(0.7);}
      60% { transform: scale(1.2);}
      100% { transform: scale(1.1);}
    }
    .found {
      background: var(--found) !important;
      color: #fff;
      font-weight: bold;
      transform: scale(1.1);
      z-index: 2;
      box-shadow: 0 0 0 4px #22c55e55;
      animation: popin 0.6s;
    }
    .deleted {
      background: var(--deleted) !important;
      color: #fff;
      font-weight: bold;
      transform: scale(1.1);
      z-index: 2;
      box-shadow: 0 0 0 4px #ef444455;
      animation: popin 0.6s;
    }
    .inserted-indicator {
      position: absolute;
      top: 4px;
      right: 6px;
      font-size: 1.3em;
      color: var(--crimson);
      animation: fadein 0.8s;
      pointer-events: none;
      user-select: none;
    }
    .stats-panel {
      margin: 18px auto 0 auto;
      max-width: 600px;
      background: var(--info-bg);
      border: 1.5px solid var(--crimson);
      border-radius: 8px;
      padding: 12px 20px;
      color: var(--text-main);
      font-size: 1.05em;
      transition: background 0.3s, color 0.3s;
    }
    .probing-sequence {
      margin: 24px auto 0 auto;
      max-width: 700px;
      background: var(--bg);
      border: 1px solid var(--crimson);
      border-radius: 8px;
      padding: 10px 16px;
      color: var(--crimson);
      font-size: 1.05em;
      font-family: 'Merriweather', Georgia, serif;
      min-height: 32px;
      transition: background 0.3s, color 0.3s;
    }
    .step-controls {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 10px;
    }
    .step-btn {
      background: var(--crimson);
      color: #fff;
      border: none;
      border-radius: 4px;
      padding: 6px 14px;
      font-size: 1em;
      cursor: pointer;
      font-family: 'Merriweather', Georgia, serif;
      transition: background 0.2s;
    }
    .step-btn:disabled {
      background: #b0bec5;
      color: #fff;
      cursor: not-allowed;
    }
    .step-btn:hover:not(:disabled) {
      background: var(--crimson-dark);
    }
    @keyframes fadein {
      0% { opacity: 0; transform: translateY(-10px);}
      60% { opacity: 1; transform: translateY(2px);}
      100% { opacity: 1; transform: translateY(0);}
    }
    @media (max-width: 900px) {
      .container { padding: 8px 2px; }
      table, th, td { font-size: 0.92em; }
      .info {
        font-size: 0.89em;
        padding: 6px 6px;
        margin-bottom: 10px;
      }
    }
    @media (max-width: 600px) {
      #hashTable, #sortedArrayTable { display: block; overflow-x: auto; }
      .stats-panel, .probing-sequence { font-size: 0.9em; }
    }
  </style>
</head>
<body>
  <button id="darkModeToggle" aria-label="Toggle dark mode" title="Toggle dark mode">🌙</button>
  <div class="container">
    <h2>Hashing Simulation (Linear Probing, Double Hashing & Quadratic Probing)</h2>
    <div class="author">Prince Joshua Ngojo BSCS-2</div>
    <div class="info">
      <button class="help-toggle" id="helpToggle" aria-label="Show instructions" title="Show instructions">❓</button>
      <strong>About Hashing:</strong><br>
      Hashing is a technique to map data of arbitrary size to fixed-size values. In this simulation, you can choose between:<br>
      <ul>
        <li><b>Linear Probing:</b> <span class="formula"><span>hash(value) = value % SIZE</span></span> – If a collision occurs, move to the next cell.</li>
        <li><b>Double Hashing:</b> <span class="formula"><span>hash2(value) = 1 + (value % (SIZE-1))</span></span> – If a collision occurs, move by a step size given by a second hash function.</li>
        <li><b>Quadratic Probing:</b> <span class="formula"><span>hash(value, i) = (hash(value) + i<sup>2</sup>) % SIZE</span></span> – If a collision occurs, move by i<sup>2</sup> steps.</li>
      </ul>
      <b>Insert:</b> Value is placed at the index given by the hash. If occupied, the chosen collision method is used.<br>
      <b>Search:</b> The table is probed using the chosen method until the value is found or an empty cell is reached.<br>
      <b>Delete:</b> The value is searched and removed if found.
    </div>
    <div class="help-content" id="helpContent">
      <b>Instructions:</b>
      <ul>
        <li>Enter a value and select a collision method.</li>
        <li>Click <b>Insert</b> to add the value to the table.</li>
        <li>Click <b>Search</b> to find a value in the table.</li>
        <li>Click <b>Delete</b> to remove a value from the table.</li>
        <li>Use the <b>step controls</b> (Prev, Next, Auto, Stop) to animate each operation step-by-step.</li>
        <li>See the <b>Probing Sequence</b> and <b>Statistics</b> panels for detailed feedback.</li>
        <li>Toggle <b>🌙</b> for dark mode.</li>
      </ul>
    </div>
    <div class="input-row">
      <input type="number" id="inputValue" placeholder="Enter value" aria-label="Enter value" />
      <select id="collisionMethod" aria-label="Select collision method">
        <option value="linear">Linear Probing</option>
        <option value="double">Double Hashing</option>
        <option value="quadratic">Quadratic Probing</option>
      </select>
      <button onclick="startInsert()" aria-label="Insert value">Insert</button>
      <button onclick="startSearch()" aria-label="Search value">Search</button>
      <button onclick="startRemove()" aria-label="Delete value">Delete</button>
      <button class="reset-btn" onclick="resetTable()" aria-label="Reset table">Reset</button>
    </div>
    <div class="step-controls">
      <button class="step-btn" id="stepPrev" onclick="stepPrev()" disabled aria-label="Previous step">Prev</button>
      <button class="step-btn" id="stepNext" onclick="stepNext()" disabled aria-label="Next step">Next</button>
      <button class="step-btn" id="stepAuto" onclick="toggleAuto()" disabled aria-label="Auto step">Auto</button>
      <button class="step-btn" id="stepStop" onclick="stopStep()" disabled aria-label="Stop step mode">Stop</button>
    </div>
    <div id="statsPanel" class="stats-panel"></div>
    <div id="probingSequence" class="probing-sequence"></div>
    <div id="hashFormula" class="formula"></div>
    <div id="message"></div>
    <table id="hashTable"></table>
    <!-- Sorted Array Display -->
    <div id="sortedArrayContainer" style="margin-top:24px;">
      <h3 style="text-align:center; color:var(--crimson); margin-bottom:8px;">Sorted Array</h3>
      <table id="sortedArrayTable"></table>
    </div>
  </div>
  <script>
    const SIZE = 10;
    let table = Array(SIZE).fill(null);
    let lastInsertedIdx = null;

    // Stats
    let totalCollisions = 0;
    let totalProbes = 0;
    let lastProbes = 0;
    let lastCollisions = 0;

    // Step-by-step animation state
    let stepMode = false;
    let stepData = null;
    let stepTimer = null;
    let stepAuto = false;

    // Dark mode toggle
    const darkModeBtn = document.getElementById('darkModeToggle');
    darkModeBtn.onclick = function() {
      document.body.classList.toggle('dark-mode');
      darkModeBtn.textContent = document.body.classList.contains('dark-mode') ? '☀️' : '🌙';
    };

    // Help/instructions toggle
    const helpToggle = document.getElementById('helpToggle');
    const helpContent = document.getElementById('helpContent');
    helpToggle.onclick = function() {
      helpContent.classList.toggle('active');
      helpToggle.setAttribute('aria-label', helpContent.classList.contains('active') ? 'Hide instructions' : 'Show instructions');
      helpToggle.setAttribute('title', helpContent.classList.contains('active') ? 'Hide instructions' : 'Show instructions');
    };

    function hash(val) { return val % SIZE; }
    function hash2(val) { return 1 + (val % (SIZE - 1)); }
    function quadratic(val, i) { return (hash(val) + i * i) % SIZE; }
    function getMethod() {
      return document.getElementById('collisionMethod').value;
    }

    function renderTable(highlightIdx = null, foundIdx = null, deletedIdx = null, insertedIdx = null, currentStepIdx = null) {
      const tbl = document.getElementById('hashTable');
      tbl.innerHTML = '';
      // Header row: indices
      let header = '<tr><th>Index</th>';
      for (let i = 0; i < SIZE; i++) header += `<th>${i}</th>`;
      header += '</tr>';
      // Data row: values
      let row = '<tr><th>Value</th>';
      for (let i = 0; i < SIZE; i++) {
        let tdClass = '';
        if (i === highlightIdx) tdClass = 'highlight';
        if (i === foundIdx) tdClass = 'found';
        if (i === deletedIdx) tdClass = 'deleted';
        if (i === currentStepIdx) tdClass += ' current-step';
        let indicator = '';
        if (i === insertedIdx) {
          indicator = `<span class="inserted-indicator" title="Inserted here">✔️</span>`;
        }
        row += `<td class="${tdClass.trim()}" style="position:relative;">${table[i] !== null ? table[i] : ''}${indicator}</td>`;
      }
      row += '</tr>';
      tbl.innerHTML = header + row;
      renderSortedArray();
    }

    function renderSortedArray() {
      const sortedTable = document.getElementById('sortedArrayTable');
      const sorted = table.filter(x => x !== null).sort((a, b) => a - b);
      let header = '<tr><th>Index</th>';
      let row = '<tr><th>Value</th>';
      for (let i = 0; i < sorted.length; i++) {
        header += `<th>${i}</th>`;
        row += `<td>${sorted[i]}</td>`;
      }
      header += '</tr>';
      row += '</tr>';
      sortedTable.innerHTML = sorted.length ? (header + row) : '<tr><td style="text-align:center;" colspan="11">No values to display</td></tr>';
    }

    function renderStats() {
      const stats = document.getElementById('statsPanel');
      const loadFactor = (table.filter(x => x !== null).length / SIZE * 100).toFixed(1);
      stats.innerHTML = `
        <b>Statistics:</b>
        <ul>
          <li>Total Collisions: <b>${totalCollisions}</b></li>
          <li>Total Probes: <b>${totalProbes}</b></li>
          <li>Last Operation Collisions: <b>${lastCollisions}</b></li>
          <li>Last Operation Probes: <b>${lastProbes}</b></li>
          <li>Load Factor: <b>${loadFactor}%</b></li>
        </ul>
      `;
    }

    function renderProbingSequence(seq, currentStepIdx = null) {
      const probeDiv = document.getElementById('probingSequence');
      if (!seq || seq.length === 0) {
        probeDiv.innerHTML = '';
        return;
      }
      probeDiv.innerHTML = `<b>Probing Sequence:</b> ${seq.map((i, idx) =>
        `<span style="display:inline-block;min-width:32px;${idx === currentStepIdx ? 'font-weight:bold;text-decoration:underline;' : ''}">${i}</span>`
      ).join(' → ')}`;
    }

    function showFormula(val) {
      if (isNaN(val)) {
        document.getElementById('hashFormula').textContent = '';
        return;
      }
      const method = getMethod();
      const h1 = hash(val);
      let formula = `Hash formula: <span>hash(${val}) = ${val} % ${SIZE} = ${h1}</span>`;
      if (method === 'double') {
        const h2 = hash2(val);
        formula += `<br>Double Hash step: <span>hash2(${val}) = 1 + (${val} % ${SIZE - 1}) = ${h2}</span>`;
      }
      if (method === 'quadratic') {
        formula += `<br>Quadratic Probing: <span>hash(${val}, i) = (${val} % ${SIZE} + i<sup>2</sup>) % ${SIZE}</span>`;
      }
      document.getElementById('hashFormula').innerHTML = formula;
    }

    // Step-by-step logic
    function startInsert() {
      const val = parseInt(document.getElementById('inputValue').value);
      showFormula(val);
      if (isNaN(val)) return;
      prepareStep('insert', val);
    }
    function startSearch() {
      const val = parseInt(document.getElementById('inputValue').value);
      showFormula(val);
      if (isNaN(val)) return;
      prepareStep('search', val);
    }
    function startRemove() {
      const val = parseInt(document.getElementById('inputValue').value);
      showFormula(val);
      if (isNaN(val)) return;
      prepareStep('remove', val);
    }

    function prepareStep(type, val) {
      stepMode = true;
      stepData = {
        type,
        val,
        method: getMethod(),
        i: 0,
        seq: [],
        done: false,
        found: false,
        inserted: false,
        deleted: false,
        idx: null,
        start: null,
        h2: null,
        probes: 0,
        collisions: 0
      };
      if (stepData.method === 'double') stepData.h2 = hash2(val);
      stepData.start = hash(val);
      stepData.idx = stepData.start;
      enableStepControls(true);
      stepStep(); // Show first step
    }

    function stepStep() {
      if (!stepMode || !stepData || stepData.done) return;
      let {type, val, method, i, start, h2} = stepData;
      let idx;
      if (method === 'linear') {
        idx = (start + i) % SIZE;
      } else if (method === 'double') {
        idx = (start + i * h2) % SIZE;
      } else if (method === 'quadratic') {
        idx = (start + i * i) % SIZE;
      }
      stepData.idx = idx;
      stepData.seq.push(idx);
      stepData.probes++;
      let highlight = idx, found = null, deleted = null, inserted = null;
      let msg = '';
      if (type === 'insert') {
        if (table[idx] === null) {
          table[idx] = val;
          inserted = idx;
          lastInsertedIdx = idx;
          msg = `Inserted ${val} at index ${idx}`;
          stepData.done = true;
          stepData.inserted = true;
        } else {
          stepData.collisions++;
          if (stepData.probes >= SIZE) {
            msg = 'Table is full!';
            stepData.done = true;
          }
        }
      } else if (type === 'search') {
        if (table[idx] === val) {
          found = idx;
          msg = `Found ${val} at index ${idx}`;
          stepData.done = true;
          stepData.found = true;
        } else if (table[idx] === null) {
          msg = `${val} not found!`;
          stepData.done = true;
        }
      } else if (type === 'remove') {
        if (table[idx] === val) {
          table[idx] = null;
          deleted = idx;
          msg = `Deleted ${val} from index ${idx}`;
          stepData.done = true;
          stepData.deleted = true;
        } else if (table[idx] === null) {
          msg = `${val} not found!`;
          stepData.done = true;
        }
      }
      renderTable(highlight, found, deleted, inserted, idx);
      renderProbingSequence(stepData.seq, stepData.i);
      document.getElementById('message').textContent = msg;
      lastProbes = stepData.probes;
      lastCollisions = stepData.collisions;
      if (stepData.done) {
        totalCollisions += stepData.collisions;
        totalProbes += stepData.probes;
        enableStepControls(false);
        setTimeout(() => {
          lastInsertedIdx = null;
          renderTable();
          renderStats();
        }, 1200);
      }
      renderStats();
    }

    function stepNext() {
      if (!stepMode || !stepData || stepData.done) return;
      stepData.i++;
      stepStep();
    }
    function stepPrev() {
      if (!stepMode || !stepData || stepData.i === 0) return;
      // Undo last step (for insert, remove, search)
      if (stepData.type === 'insert' && stepData.inserted) {
        table[stepData.idx] = null;
        lastInsertedIdx = null;
      }
      if (stepData.type === 'remove' && stepData.deleted) {
        table[stepData.idx] = stepData.val;
      }
      stepData.seq.pop();
      stepData.i--;
      stepData.done = false;
      stepData.inserted = false;
      stepData.deleted = false;
      stepData.found = false;
      stepData.probes--;
      stepStep();
    }
    function toggleAuto() {
      if (!stepMode || !stepData || stepData.done) return;
      stepAuto = !stepAuto;
      document.getElementById('stepAuto').textContent = stepAuto ? 'Pause' : 'Auto';
      if (stepAuto) {
        stepTimer = setInterval(() => {
          if (!stepMode || !stepData || stepData.done) {
            clearInterval(stepTimer);
            stepAuto = false;
            document.getElementById('stepAuto').textContent = 'Auto';
            return;
          }
          stepNext();
        }, 700);
      } else {
        clearInterval(stepTimer);
      }
    }
    function stopStep() {
      stepMode = false;
      stepData = null;
      stepAuto = false;
      clearInterval(stepTimer);
      enableStepControls(false);
      document.getElementById('probingSequence').innerHTML = '';
      document.getElementById('message').textContent = '';
      renderTable();
      renderStats();
    }
    function enableStepControls(enable) {
      document.getElementById('stepPrev').disabled = !enable;
      document.getElementById('stepNext').disabled = !enable;
      document.getElementById('stepAuto').disabled = !enable;
      document.getElementById('stepStop').disabled = !enable;
    }

    function resetTable() {
      table = Array(SIZE).fill(null);
      document.getElementById('message').textContent = '';
      document.getElementById('hashFormula').textContent = '';
      document.getElementById('inputValue').value = '';
      lastInsertedIdx = null;
      stepMode = false;
      stepData = null;
      stepAuto = false;
      clearInterval(stepTimer);
      enableStepControls(false);
      document.getElementById('probingSequence').innerHTML = '';
      totalCollisions = 0;
      totalProbes = 0;
      lastProbes = 0;
      lastCollisions = 0;
      renderTable();
      renderStats();
    }

    // Show formula as user types or method changes
    document.getElementById('inputValue').addEventListener('input', e => {
      showFormula(parseInt(e.target.value));
    });
    document.getElementById('collisionMethod').addEventListener('change', () => {
      const val = parseInt(document.getElementById('inputValue').value);
      showFormula(val);
    });

    // Initial render
    renderTable();
    renderStats();
    enableStepControls(false);
  </script>
  <div style="text-align:center; color:#A51C30; margin-top:32px; font-size:0.95em;">
    &copy; 2024 Prince Joshua Ngojo. All rights reserved.
  </div>
</body>
</html>